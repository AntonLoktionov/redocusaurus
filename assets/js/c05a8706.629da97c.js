"use strict";(self.webpackChunkredocusaurus_website=self.webpackChunkredocusaurus_website||[]).push([[562],{5318:function(e,t,n){n.d(t,{Zo:function(){return l},kt:function(){return m}});var r=n(7378);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u=r.createContext({}),c=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},l=function(e){var t=c(e.components);return r.createElement(u.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,u=e.parentName,l=a(e,["components","mdxType","originalType","parentName"]),p=c(n),m=o,h=p["".concat(u,".").concat(m)]||p[m]||d[m]||i;return n?r.createElement(h,s(s({ref:t},l),{},{components:n})):r.createElement(h,s({ref:t},l))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,s=new Array(i);s[0]=p;var a={};for(var u in t)hasOwnProperty.call(t,u)&&(a[u]=t[u]);a.originalType=e,a.mdxType="string"==typeof e?e:o,s[1]=a;for(var c=2;c<i;c++)s[c]=n[c];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},4631:function(e,t,n){n.r(t),n.d(t,{assets:function(){return l},contentTitle:function(){return u},default:function(){return m},frontMatter:function(){return a},metadata:function(){return c},toc:function(){return d}});var r=n(5773),o=n(808),i=(n(7378),n(5318)),s=["components"],a={title:"Build Time Rendering",description:"Parse the OpenAPI schema at build time and skip the loading screen"},u=void 0,c={unversionedId:"guides/build-time-rendering",id:"guides/build-time-rendering",title:"Build Time Rendering",description:"Parse the OpenAPI schema at build time and skip the loading screen",source:"@site/docs/guides/build-time-rendering.md",sourceDirName:"guides",slug:"/guides/build-time-rendering",permalink:"/redocusaurus/docs/guides/build-time-rendering",editUrl:"https://github.com/rohit-gohri/redocusaurus/edit/main/docs/guides/build-time-rendering.md",tags:[],version:"current",frontMatter:{title:"Build Time Rendering",description:"Parse the OpenAPI schema at build time and skip the loading screen"},sidebar:"defaultSidebar",previous:{title:"Theme Options",permalink:"/redocusaurus/docs/getting-started/theme-options"},next:{title:"Schema Imports",permalink:"/redocusaurus/docs/guides/schema-imports"}},l={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Updating your Root theme component",id:"updating-your-root-theme-component",level:3},{value:"Use yaml files rather than urls to load OpenAPI files",id:"use-yaml-files-rather-than-urls-to-load-openapi-files",level:3}],p={toc:d};function m(e){var t=e.components,n=(0,o.Z)(e,s);return(0,i.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},(0,i.kt)("strong",{parentName:"p"},"NOTE:")," This is in Beta. Please ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/rohit-gohri/redocusaurus/discussions/88"},"add your feedback here")))),(0,i.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.kt)("p",null,"To enable Build Time rendering of docs you have to do 2 things:"),(0,i.kt)("h3",{id:"updating-your-root-theme-component"},"Updating your Root theme component"),(0,i.kt)("p",null,"Use the custom ServerStyle component in your ",(0,i.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/using-themes#wrapper-your-site-with-root"},"Theme Root")," (as mentioned in ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/facebook/docusaurus/issues/3236#issuecomment-788953743"},"https://github.com/facebook/docusaurus/issues/3236#issuecomment-788953743"),") like below:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/theme/Root/index.tsx"',title:'"src/theme/Root/index.tsx"'},"import React from 'react';\nimport ServerStyle from '@theme/ServerStyle';\n\nfunction Root({ children }: { children: React.Component }): JSX.Element {\n  return (\n    <>\n      // TODO: Remove when docusaurus adds proper css-in-js support\n      (https://github.com/rohit-gohri/redocusaurus/issues/90)\n      <ServerStyle from={children} />\n      {children}\n    </>\n  );\n}\n\nexport default Root;\n")),(0,i.kt)("h3",{id:"use-yaml-files-rather-than-urls-to-load-openapi-files"},"Use yaml files rather than urls to load OpenAPI files"),(0,i.kt)("p",null,"To enable build time rendering we need to parse the schema at build time so it can be processed to JSON. For this it needs to passed on as a yaml file. This has a side-effect of the download button pointing to the processed JSON, to fix this you can also provide the original url as ",(0,i.kt)("inlineCode",{parentName:"p"},"specUrl")," and it will be used as the download link."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="docusaurus.config.js"',title:'"docusaurus.config.js"'},"const config = {\n  presets: [\n    [\n      'redocusaurus',\n      {\n        specs: [\n          {\n            spec: 'openapi.yaml',\n            /**\n             * This becomes the Download URL in this case, while docs are generated from `spec`\n             */\n            specUrl: `${process.env.DEPLOY_BASE_URL || '/'}openapi-page.yaml`,\n            routePath: '/examples/using-spec-yaml/',\n          },\n        ],\n        theme: {\n          /**\n           * Highlight color for docs\n           */\n          primaryColor: '#1890ff',\n          /**\n           * Options to pass to redoc\n           * @see https://github.com/redocly/redoc#redoc-options-object\n           */\n          redocOptions: { disableSearch: true },\n        },\n      },\n    ],\n    '@docusaurus/preset-classic',\n  ],\n  title: 'Redocusaurus',\n};\n")))}m.isMDXComponent=!0}}]);